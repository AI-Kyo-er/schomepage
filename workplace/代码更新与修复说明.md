# HTMLå›¾æ–‡æ–‡ç« ç¼–è¾‘å™¨å·¥ä½œç«™ - ä»£ç æ›´æ–°ä¸ä¿®å¤è¯´æ˜

## ğŸ“‹ ä¿®å¤æ¦‚è§ˆ

æœ¬æ–‡æ¡£è®°å½•äº†HTMLå›¾æ–‡æ–‡ç« ç¼–è¾‘å™¨å·¥ä½œç«™çš„æ‰€æœ‰ä»£ç æ›´æ–°ã€ä¿®å¤å’Œä¼˜åŒ–å†ç¨‹ï¼ŒåŒ…æ‹¬ç³»ç»Ÿå®ŒæˆçŠ¶æ€ã€åŠŸèƒ½ä¿®å¤ã€æ€§èƒ½ä¼˜åŒ–å’Œé—®é¢˜è§£å†³æ–¹æ¡ˆã€‚

## âœ… ç³»ç»Ÿå®ŒæˆçŠ¶æ€

### é¡¹ç›®åŸºæœ¬ä¿¡æ¯
- **é¡¹ç›®åç§°**: HTMLå›¾æ–‡æ–‡ç« ç¼–è¾‘å™¨å·¥ä½œç«™  
- **å¼€å‘çŠ¶æ€**: âœ… å®Œæˆ  
- **éƒ¨ç½²çŠ¶æ€**: âœ… å¯ç”¨  
- **æœåŠ¡å™¨åœ°å€**: http://localhost:5000  
- **å¼€å‘å‘¨æœŸ**: 2024å¹´1æœˆè‡³6æœˆ

### æ ¸å¿ƒåŠŸèƒ½å®Œæˆåº¦ - 100%

#### 1. ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ âœ…
- **ç™»å½•åŠŸèƒ½**: ç”¨æˆ·åå¯†ç è®¤è¯ï¼Œæ”¯æŒadmin/123456
- **æ³¨å†Œç³»ç»Ÿ**: å®Œæ•´çš„é‚®ç®±éªŒè¯æ³¨å†Œæµç¨‹
- **ä¼šè¯ç®¡ç†**: 24å°æ—¶è¶…æ—¶ï¼Œæ´»åŠ¨çŠ¶æ€æ£€æµ‹
- **å¯†ç åŠ å¯†**: è‡ªå®šä¹‰åŠ å¯†ç®—æ³•ä¿æŠ¤ç”¨æˆ·æ•°æ®
- **æ–‡ç« é…é¢**: users.csvä¸­maxarticleå­—æ®µæ§åˆ¶

#### 2. å›¾å½¢åŒ–ç¼–è¾‘å™¨ âœ…
- **æ‰€è§å³æ‰€å¾—**: ç±»ä¼¼Microsoft Wordçš„ç¼–è¾‘ä½“éªŒ
- **æ–‡æœ¬ç¼–è¾‘**: æ’å…¥æ–‡æœ¬æ¡†ï¼Œå¯Œæ–‡æœ¬æ ¼å¼åŒ–
- **å›¾ç‰‡ç®¡ç†**: æœ¬åœ°ä¸Šä¼ å’Œç´ æåº“é€‰æ‹©
- **å›¾æ¡ˆæ’å…¥**: çŸ©å½¢ã€åœ†å½¢ã€åˆ†å‰²çº¿ã€å¼•ç”¨æ¡†
- **æ ¼å¼å·¥å…·**: å­—ä½“ã€å­—å·ã€ç²—ä½“ã€æ–œä½“ã€ä¸‹åˆ’çº¿ã€å¯¹é½
- **å±æ€§é¢æ¿**: å®æ—¶è°ƒæ•´é¢œè‰²ã€å¤§å°ã€è¾¹è·ç­‰å±æ€§

#### 3. æ–‡ç« ç®¡ç† âœ…
- **åˆ›å»ºæ–‡ç« **: æ–°å»ºæ–‡ç« ï¼Œè‡ªåŠ¨å‘½åå†²çªå¤„ç†
- **æ–‡ç« åˆ—è¡¨**: æ˜¾ç¤ºæ‰€æœ‰ä¸ªäººæ–‡ç« åŠä¿®æ”¹æ—¶é—´
- **æ–‡ä»¶æ“ä½œ**: é‡å‘½åã€åˆ é™¤ã€æ‰“å¼€ç¼–è¾‘
- **å­˜å‚¨ç»“æ„**: ./workplace/"ç”¨æˆ·å"/article/ ç›®å½•
- **æ•°é‡é™åˆ¶**: æ ¹æ®maxarticleå­—æ®µé™åˆ¶åˆ›å»ºæ•°é‡

#### 4. ç´ æåº“ç³»ç»Ÿ âœ…
- **èƒŒæ™¯å›¾ç‰‡**: 12å¼ é«˜è´¨é‡WebPèƒŒæ™¯å›¾
- **å›¾æ ‡åº“**: SVGå›¾æ ‡èµ„æº
- **æˆ‘çš„å›¾ç‰‡**: ç”¨æˆ·ä¸ªäººå›¾ç‰‡ç®¡ç†åŠŸèƒ½
- **å…±äº«èµ„æº**: ./workplace/share/ ç›®å½•ç»“æ„
- **ç´ æé¢„è§ˆ**: ç½‘æ ¼å¸ƒå±€ï¼Œç‚¹å‡»ç›´æ¥ä½¿ç”¨

#### 5. æ–‡ç« é“¾æ¥åŠŸèƒ½ âœ…
- **æ–‡æœ¬é“¾æ¥**: åˆ›å»ºæŒ‡å‘å…¶ä»–æ–‡ç« çš„æŒ‰é’®é“¾æ¥
- **å›¾ç‰‡é“¾æ¥**: å°†å›¾ç‰‡å…ƒç´ è½¬æ¢ä¸ºå¯ç‚¹å‡»é“¾æ¥
- **å¯¼èˆªç³»ç»Ÿ**: ç»¿è‰²ä¸»é¢˜é¡µé¢ï¼Œæ”¯æŒè¿”å›åŠŸèƒ½
- **å®‰å…¨é™åˆ¶**: ä»…å…è®¸é“¾æ¥ç”¨æˆ·è‡ªå·±çš„æ–‡ç« 

#### 6. æ— ç™»å½•è®¿é—®æ¨¡å¼ âœ…
- **åˆ«åè®¿é—®**: é€šè¿‡å‹å¥½URLè®¿é—®æ–‡ç« 
- **è®¿å®¢ç»Ÿè®¡**: è®°å½•ä¸åŒç±»å‹è®¿å®¢çš„è®¿é—®æ¬¡æ•°
- **è·¯ç”±å®‰å…¨**: é˜²æ­¢é™æ€æ–‡ä»¶è¢«è¯¯æ‹¦æˆª

## ğŸ”§ é‡å¤§ä¿®å¤è®°å½•

### ä¿®å¤1: å›¾ç‰‡ç®¡ç†å’Œå¯¹é½åŠŸèƒ½ä¼˜åŒ–

**ä¿®å¤æ—¶é—´**: 2024å¹´6æœˆ  
**ä¿®å¤èŒƒå›´**: ç´ æåº“ç•Œé¢ã€å›¾ç‰‡ç®¡ç†ã€å¯¹é½åŠŸèƒ½

#### é—®é¢˜æè¿°
1. ç´ æåº“é¢„è§ˆæ˜¾ç¤ºæ–‡ä»¶åï¼Œç•Œé¢æ··ä¹±
2. ç¼ºå°‘ä¸ªäººå›¾ç‰‡ç®¡ç†åŠŸèƒ½
3. å›¾ç‰‡å¯¹é½åŠŸèƒ½æ— æ•ˆ

#### è§£å†³æ–¹æ¡ˆ

**1. ç´ æåº“é¢„è§ˆä¼˜åŒ–**
```javascript
// ä¿®å¤å‰ï¼šæ˜¾ç¤ºæ–‡ä»¶åçš„æ–‡æœ¬é¢„è§ˆ
function generateAssetGrid(assets, assetType) {
    html += `<div>${asset.name}</div>`;  // æ˜¾ç¤ºæ–‡ä»¶å
}

// ä¿®å¤åï¼šçº¯å›¾åƒé¢„è§ˆ
function generateAssetGrid(assets, assetType) {
    html += `
        <div class="asset-item" style="width: 120px; height: 120px;">
            <img src="${assetPath}" style="
                max-width: 100%; 
                max-height: 100%; 
                object-fit: contain;
            ">
        </div>
    `;
}
```

**2. æ–°å¢"æˆ‘çš„å›¾ç‰‡"åŠŸèƒ½**
```python
# åç«¯APIå®ç°
@app.route('/api/get_my_pictures', methods=['POST'])
def get_my_pictures():
    pics_path = os.path.join('..', 'workplace', username, 'pics')
    # æ‰«æç”¨æˆ·å›¾ç‰‡ç›®å½•ï¼Œè¿”å›å›¾ç‰‡åˆ—è¡¨

@app.route('/api/upload_my_pictures', methods=['POST'])
def upload_my_pictures():
    # å¤šæ–‡ä»¶ä¸Šä¼ å¤„ç†
    # æ ¼å¼éªŒè¯ï¼šPNGã€JPGã€JPEG
    # å¤§å°é™åˆ¶ï¼š5MB
    # é‡åæ–‡ä»¶å¤„ç†

@app.route('/api/get_user_picture/<username>/<filename>')
def get_user_picture(username, filename):
    # æä¾›ç”¨æˆ·å›¾ç‰‡æ–‡ä»¶æœåŠ¡
    pics_path = os.path.join('..', 'workplace', username, 'pics')
    return send_from_directory(pics_path, filename)
```

**3. ç»Ÿä¸€å¯¹é½åŠŸèƒ½ä¿®å¤**
```javascript
// ä¿®å¤å‰ï¼šå›¾ç‰‡å¯¹é½æ— æ•ˆ
function setAlignment(align) {
    if (selectedElement) {
        selectedElement.style.textAlign = align;  // å¯¹å›¾ç‰‡æ— æ•ˆ
    }
}

// ä¿®å¤åï¼šç»Ÿä¸€å¤„ç†æ–‡å­—å’Œå›¾ç‰‡
function setAlignment(align) {
    if (selectedElement) {
        const img = selectedElement.querySelector('.image-element');
        if (img) {
            // å›¾ç‰‡å¯¹é½å¤„ç†
            selectedElement.style.textAlign = align;
            selectedElement.style.display = 'block';
            selectedElement.style.width = '100%';
        } else {
            // æ–‡å­—å¯¹é½å¤„ç†
            selectedElement.style.textAlign = align;
        }
    }
}
```

#### ä¿®å¤æ•ˆæœ
- âœ… ç´ æåº“ï¼š120x120pxç»Ÿä¸€é¢„è§ˆï¼Œæ— æ–‡å­—å¹²æ‰°
- âœ… æˆ‘çš„å›¾ç‰‡ï¼šæ”¯æŒä¸Šä¼ ã€é¢„è§ˆã€åˆ é™¤ã€æ’å…¥
- âœ… å¯¹é½åŠŸèƒ½ï¼šå›¾ç‰‡å’Œæ–‡å­—ä½¿ç”¨ç»Ÿä¸€æŒ‰é’®

### ä¿®å¤2: æ— ç™»å½•è®¿é—®æ¨¡å¼è·¯ç”±å†²çª

**ä¿®å¤æ—¶é—´**: 2024å¹´6æœˆ  
**é—®é¢˜çº§åˆ«**: ä¸¥é‡ - å½±å“ç³»ç»Ÿæ­£å¸¸ä½¿ç”¨

#### é—®é¢˜æè¿°
å®ç°æ— ç™»å½•è®¿é—®åï¼Œé™æ€æ–‡ä»¶è¯·æ±‚è¢«è¯¯æ‹¦æˆªï¼š
- `.js`, `.css` æ–‡ä»¶è¿”å›404é”™è¯¯
- ç™»å½•é¡µé¢JavaScriptåŠŸèƒ½å¤±æ•ˆ
- ç”¨æˆ·æ— æ³•æ­£å¸¸ç™»å½•

#### é”™è¯¯æ—¥å¿—
```
ğŸ”— æ”¶åˆ°åˆ«åè®¿é—®è¯·æ±‚: auth.js
ğŸ” è§£æç»“æœ - å¹²å‡€åˆ«å: auth.js, è®¿å®¢ç±»å‹: None
127.0.0.1 - - [04/Jun/2025 19:52:21] "GET /auth.js HTTP/1.1" 404 -
```

#### æ ¹æœ¬åŸå› 
```python
# é—®é¢˜è·¯ç”±ï¼šè¿‡äºå®½æ³›ï¼Œæ‹¦æˆªæ‰€æœ‰å•è·¯å¾„è¯·æ±‚
@app.route('/<alias>')
def handle_alias_access(alias):
    # é™æ€æ–‡ä»¶ä¹Ÿè¢«å½“ä½œåˆ«åå¤„ç†
```

#### è§£å†³æ–¹æ¡ˆ
```python
@app.route('/<alias>')
def handle_alias_access(alias):
    # ä¿®å¤ï¼šæ·»åŠ é™æ€æ–‡ä»¶ç±»å‹è¿‡æ»¤
    if ('.' in alias and 
        (alias.endswith('.js') or alias.endswith('.css') or 
         alias.endswith('.html') or alias.endswith('.png') or 
         alias.endswith('.jpg') or alias.endswith('.jpeg') or 
         alias.endswith('.gif') or alias.endswith('.ico') or
         alias.endswith('.woff') or alias.endswith('.woff2') or
         alias.endswith('.ttf') or alias.endswith('.svg') or
         alias.endswith('.map'))):
        print(f"ğŸ“„ é™æ€æ–‡ä»¶è¯·æ±‚: {alias}")
        return send_from_directory('.', alias)
    
    # ç»§ç»­åˆ«åè®¿é—®å¤„ç†é€»è¾‘
    return handle_article_alias(alias)
```

#### ä¿®å¤éªŒè¯
- âœ… é™æ€æ–‡ä»¶æ­£å¸¸åŠ è½½
- âœ… ç™»å½•åŠŸèƒ½å®Œå…¨æ¢å¤
- âœ… åˆ«åè®¿é—®ç»§ç»­å·¥ä½œ
- âœ… è®¿å®¢ç»Ÿè®¡æ­£å¸¸è®°å½•

### ä¿®å¤3: æ’¤é”€é‡åšåŠŸèƒ½å®Œå–„

**ä¿®å¤æ—¶é—´**: 2024å¹´6æœˆ  
**ä¿®å¤å†…å®¹**: æ’¤é”€é‡åšç³»ç»Ÿä¼˜åŒ–

#### é—®é¢˜æè¿°
1. æ’¤é”€æ ˆåˆå§‹åŒ–é—®é¢˜
2. çŠ¶æ€ä¿å­˜æ—¶æœºä¸å‡†ç¡®
3. æˆåŠŸæç¤ºè¿‡äºé¢‘ç¹

#### è§£å†³æ–¹æ¡ˆ

**1. åˆå§‹åŒ–ä¿®å¤**
```javascript
// ä¿®å¤ï¼šå»¶è¿Ÿåˆå§‹åŒ–ï¼Œç¡®ä¿é¡µé¢å®Œå…¨åŠ è½½
function initializeEditor() {
    // ... å…¶ä»–åˆå§‹åŒ–ä»£ç 
    setTimeout(() => {
        saveInitialStateToUndoStack();
    }, 500);
}

function saveInitialStateToUndoStack() {
    const initialState = getCanvasContent();
    undoStack.push(initialState);
    console.log('åˆå§‹çŠ¶æ€å·²ä¿å­˜åˆ°æ’¤é”€æ ˆ');
}
```

**2. çŠ¶æ€ä¿å­˜ä¼˜åŒ–**
```javascript
// ä½¿ç”¨MutationObserverç›‘å¬DOMå˜åŒ–
function setupUndoRedoListeners() {
    const canvas = document.getElementById('canvas');
    let timeout;
    let lastSavedContent = getCanvasContent();
    
    const handleContentChange = function() {
        clearTimeout(timeout);
        timeout = setTimeout(() => {
            const currentContent = getCanvasContent();
            if (currentContent !== lastSavedContent) {
                saveStateToUndoStack();
                lastSavedContent = currentContent;
            }
        }, 1500); // 1.5ç§’åä¿å­˜çŠ¶æ€
    };
    
    // ä½¿ç”¨MutationObserverç›‘å¬
    if (window.MutationObserver) {
        const observer = new MutationObserver(handleContentChange);
        observer.observe(canvas, {
            childList: true,
            subtree: true,
            attributes: true,
            characterData: true
        });
    }
}
```

**3. ç§»é™¤å¤šä½™æç¤º**
```javascript
// ä¿®å¤å‰ï¼šæ¯æ¬¡æ“ä½œéƒ½æ˜¾ç¤ºæˆåŠŸæç¤º
function undo() {
    // ... æ’¤é”€é€»è¾‘
    showSuccess('æ’¤é”€æ“ä½œå®Œæˆ');  // ç§»é™¤æ­¤è¡Œ
}

// ä¿®å¤åï¼šé™é»˜æ“ä½œï¼Œåªåœ¨æ§åˆ¶å°è®°å½•
function undo() {
    // ... æ’¤é”€é€»è¾‘
    console.log('æ’¤é”€å®Œæˆï¼Œæ’¤é”€æ ˆå¤§å°:', undoStack.length);
}
```

### ä¿®å¤4: main.htmlç•Œé¢å’ŒåŠŸèƒ½ä¿®å¤

**ä¿®å¤æ—¶é—´**: 2024å¹´6æœˆ  
**ä¿®å¤å†…å®¹**: ç¼–è¾‘å™¨ç•Œé¢ã€åŠŸèƒ½å®Œå–„ã€å…¼å®¹æ€§

#### ä¸»è¦ä¿®å¤å†…å®¹

**1. è®¿å®¢ç»Ÿè®¡åŠŸèƒ½**
```javascript
// æ–°å¢è®¿å®¢ç»Ÿè®¡ä¾§è¾¹æ 
<div class="sidebar-section">
    <div class="section-header" onclick="toggleSection('visitor-stats')">
        ğŸ“Š è®¿å®¢ç»Ÿè®¡
    </div>
    <div class="section-content" id="visitor-stats">
        <div id="visitorStatsContent">
            <div class="loading">åŠ è½½è®¿å®¢ç»Ÿè®¡...</div>
        </div>
        <button class="btn btn-secondary" onclick="refreshVisitorStats()">
            ğŸ”„ åˆ·æ–°ç»Ÿè®¡
        </button>
    </div>
</div>

// è®¿å®¢ç»Ÿè®¡åŠ è½½å‡½æ•°
async function loadVisitorStats() {
    const response = await fetch('/api/get_visitor_stats', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ username: currentUser })
    });
    const data = await response.json();
    if (data.success) {
        displayVisitorStats(data.stats);
    }
}
```

**2. è‡ªå®šä¹‰å¯¹è¯æ¡†æ›¿æ¢prompt**
```javascript
// ä¿®å¤å‰ï¼šä½¿ç”¨ç³»ç»Ÿpromptï¼ˆå¯èƒ½è¢«é˜»æ­¢ï¼‰
const name = prompt('è¯·è¾“å…¥æ–‡ç« åç§°:', 'article');

// ä¿®å¤åï¼šè‡ªå®šä¹‰å¯¹è¯æ¡†
function showCustomPrompt(message, defaultValue = '') {
    return new Promise((resolve) => {
        const modal = document.createElement('div');
        modal.className = 'modal';
        modal.innerHTML = `
            <div class="modal-content">
                <h3>è¾“å…¥ä¿¡æ¯</h3>
                <p>${message}</p>
                <input type="text" id="promptInput" value="${defaultValue}">
                <button onclick="closeCustomPrompt(true)">ç¡®å®š</button>
                <button onclick="closeCustomPrompt(false)">å–æ¶ˆ</button>
            </div>
        `;
        document.body.appendChild(modal);
        // ... å¤„ç†é€»è¾‘
    });
}
```

**3. å›¾ç‰‡è·¯å¾„ä¿®å¤**
```javascript
// ä¿®å¤å‰ï¼šå›¾ç‰‡è·¯å¾„å¯èƒ½é”™è¯¯
function insertImageElement(src) {
    const imageSrc = src; // ç›´æ¥ä½¿ç”¨
}

// ä¿®å¤åï¼šè·¯å¾„æ ‡å‡†åŒ–
function insertImageElement(src) {
    let imageSrc = src;
    if (!src.startsWith('http') && 
        !src.startsWith('/workplace/share/') && 
        !src.startsWith('/api/get_user_picture/')) {
        imageSrc = '/workplace/share/backgrounds/' + src;
    }
    // ... æ’å…¥é€»è¾‘
}
```

### ä¿®å¤5: æ–‡ç« é“¾æ¥åŠŸèƒ½å®ç°

**ä¿®å¤æ—¶é—´**: 2024å¹´6æœˆ  
**æ–°å¢åŠŸèƒ½**: æ–‡ç« é—´é“¾æ¥å¯¼èˆªç³»ç»Ÿ

#### åŠŸèƒ½å®ç°

**1. å‰ç«¯é“¾æ¥æ’å…¥**
```javascript
// é“¾æ¥æ¨¡æ€æ¡†
<div class="modal" id="linkModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>æ’å…¥æ–‡ç« é“¾æ¥</h3>
        </div>
        <div class="modal-body">
            <div class="property-group">
                <label>é“¾æ¥æ–‡æœ¬</label>
                <input type="text" id="linkText" placeholder="ç‚¹å‡»è¿™é‡Œ">
            </div>
            <div class="property-group">
                <label>é€‰æ‹©ç›®æ ‡æ–‡ç« </label>
                <div id="linkTargetList"></div>
            </div>
            <div class="property-group">
                <label>é“¾æ¥ç±»å‹</label>
                <select id="linkType">
                    <option value="text">æ–‡æœ¬é“¾æ¥</option>
                    <option value="image">å›¾ç‰‡é“¾æ¥</option>
                </select>
            </div>
        </div>
    </div>
</div>

// é“¾æ¥æ’å…¥å‡½æ•°
function insertLinkElement() {
    const linkUrl = `/link/${currentUser}/${window.selectedLinkTarget.filename}?from=${currentArticle}`;
    
    if (linkType === 'image' && selectedElement.querySelector('.image-element')) {
        // å›¾ç‰‡é“¾æ¥å¤„ç†
        const linkWrapper = document.createElement('a');
        linkWrapper.href = linkUrl;
        linkWrapper.target = '_blank';
        // åŒ…è£…ç°æœ‰å›¾ç‰‡
    } else {
        // æ–‡æœ¬é“¾æ¥å¤„ç†
        const linkContainer = document.createElement('div');
        linkContainer.innerHTML = `
            <a href="${linkUrl}" target="_blank" style="...">
                ğŸ”— ${linkText}
            </a>
        `;
    }
}
```

**2. åç«¯é“¾æ¥å¤„ç†**
```python
@app.route('/link/<username>/<filename>')
def handle_article_link(username, filename):
    """å¤„ç†æ–‡ç« é“¾æ¥è®¿é—®"""
    from_article = request.args.get('from', '')
    
    # æ„å»ºæ–‡ç« è·¯å¾„
    article_path = os.path.join('..', 'workplace', username, 'article', filename)
    
    if not os.path.exists(article_path):
        return "æ–‡ç« ä¸å­˜åœ¨", 404
    
    # è¯»å–æ–‡ç« å†…å®¹
    with open(article_path, 'r', encoding='utf-8') as f:
        content = f.read()
    
    # ç”Ÿæˆå¸¦å¯¼èˆªçš„é¡µé¢
    return render_template_string(LINK_TEMPLATE, 
                                content=content,
                                from_article=from_article,
                                username=username,
                                filename=filename)

# é“¾æ¥é¡µé¢æ¨¡æ¿ï¼ˆç»¿è‰²ä¸»é¢˜ï¼‰
LINK_TEMPLATE = '''
<!DOCTYPE html>
<html>
<head>
    <title>æ–‡ç« é“¾æ¥</title>
    <style>
        body { background: #e8f5e8; }
        .container { 
            max-width: 800px; 
            margin: 0 auto; 
            background: white;
            padding: 20px;
        }
        .nav-bar {
            background: #27ae60;
            color: white;
            padding: 10px;
            text-align: right;
        }
        .return-btn {
            background: #2ecc71;
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="nav-bar">
        {% if from_article %}
            <button class="return-btn" onclick="history.back()">
                â† è¿”å›ä¸Šçº§
            </button>
        {% else %}
            <button class="return-btn" onclick="history.back()">
                â† è¿”å›
            </button>
        {% endif %}
    </div>
    <div class="container">
        {{ content|safe }}
    </div>
</body>
</html>
'''
```

## ğŸ§ª æµ‹è¯•å’ŒéªŒè¯

### APIåŠŸèƒ½æµ‹è¯•
```bash
# ç™»å½•æµ‹è¯•
curl -X POST "http://localhost:5000/api/login" \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"18b16e270de878f3"}'

# æ–‡ç« åˆ—è¡¨æµ‹è¯•
curl -X POST "http://localhost:5000/api/user_articles" \
  -H "Content-Type: application/json" \
  -d '{"username":"admin"}'

# è®¿å®¢ç»Ÿè®¡æµ‹è¯•
curl -X POST "http://localhost:5000/api/get_visitor_stats" \
  -H "Content-Type: application/json" \
  -d '{"username":"admin"}'
```

### åˆ«åè®¿é—®æµ‹è¯•
```bash
# å¸¦è®¿å®¢ç±»å‹è®¿é—®
curl "http://localhost:5000/WHU_PAGE&user=student"
curl "http://localhost:5000/WHU_PAGE&user=teacher"

# åŒ¿åè®¿é—®
curl "http://localhost:5000/WHU_PAGE"

# æ–‡ç« é“¾æ¥è®¿é—®
curl "http://localhost:5000/link/admin/æ ¡å›­å¯¼è§ˆ.html?from=article.html"
```

### åŠŸèƒ½é›†æˆæµ‹è¯•

**1. å›¾ç‰‡ç®¡ç†æµ‹è¯•**
- âœ… ä¸Šä¼ PNG/JPGå›¾ç‰‡åˆ°ä¸ªäººå›¾ç‰‡åº“
- âœ… 120x120pxé¢„è§ˆæ­£å¸¸æ˜¾ç¤º
- âœ… ç‚¹å‡»æ’å…¥å›¾ç‰‡åˆ°æ–‡ç« 
- âœ… åˆ é™¤åŠŸèƒ½æ­£å¸¸å·¥ä½œ

**2. å¯¹é½åŠŸèƒ½æµ‹è¯•**
- âœ… æ–‡å­—å…ƒç´ ï¼šå·¦å¯¹é½ã€å±…ä¸­ã€å³å¯¹é½
- âœ… å›¾ç‰‡å…ƒç´ ï¼šå·¦å¯¹é½ã€å±…ä¸­ã€å³å¯¹é½
- âœ… æ··åˆå…ƒç´ ï¼šç»Ÿä¸€æŒ‰é’®æ§åˆ¶

**3. é“¾æ¥åŠŸèƒ½æµ‹è¯•**
- âœ… æ–‡æœ¬é“¾æ¥ï¼šåˆ›å»ºæŒ‰é’®å¼é“¾æ¥
- âœ… å›¾ç‰‡é“¾æ¥ï¼šå›¾ç‰‡å˜å¯ç‚¹å‡»
- âœ… å¯¼èˆªåŠŸèƒ½ï¼šç»¿è‰²ä¸»é¢˜é¡µé¢
- âœ… è¿”å›åŠŸèƒ½ï¼šæ­£ç¡®çš„æ¥æºè¿½è¸ª

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å‰ç«¯ä¼˜åŒ–
- **å›¾ç‰‡é¢„è§ˆä¼˜åŒ–**: ç»Ÿä¸€å°ºå¯¸ï¼Œå‡å°‘é‡æ’
- **DOMæ“ä½œä¼˜åŒ–**: ä½¿ç”¨DocumentFragmentæ‰¹é‡æ“ä½œ
- **äº‹ä»¶ç›‘å¬ä¼˜åŒ–**: é˜²æŠ–å¤„ç†ï¼Œå‡å°‘é¢‘ç¹è§¦å‘
- **å†…å­˜ç®¡ç†**: åŠæ—¶æ¸…ç†äº‹ä»¶ç›‘å¬å™¨

### åç«¯ä¼˜åŒ–
- **æ–‡ä»¶è¯»å–ä¼˜åŒ–**: ç¼“å­˜å¸¸ç”¨æ–‡ä»¶å†…å®¹
- **è·¯å¾„å¤„ç†ä¼˜åŒ–**: æ ‡å‡†åŒ–è·¯å¾„æ“ä½œ
- **é”™è¯¯å¤„ç†å®Œå–„**: è¯¦ç»†çš„å¼‚å¸¸ä¿¡æ¯è®°å½•
- **å®‰å…¨æ€§å¢å¼º**: è·¯å¾„éå†é˜²æŠ¤

### æ•°æ®åº“ä¼˜åŒ–
- **CSVæ–‡ä»¶ä¼˜åŒ–**: å‡å°‘é‡å¤è¯»å†™æ“ä½œ
- **ç›®å½•ç»“æ„ä¼˜åŒ–**: ç”¨æˆ·æ•°æ®åˆ†ç¦»å­˜å‚¨
- **å¤‡ä»½ç­–ç•¥**: å…³é”®æ•°æ®å®šæœŸå¤‡ä»½

## ğŸ”’ å®‰å…¨æ€§æ”¹è¿›

### è¾“å…¥éªŒè¯
```python
# ç”¨æˆ·åéªŒè¯
def validate_username(username):
    if not username or len(username) < 3:
        return False
    if not re.match(r'^[a-zA-Z0-9@._-]+$', username):
        return False
    return True

# æ–‡ä»¶åéªŒè¯
def validate_filename(filename):
    if not filename or '..' in filename:
        return False
    if not filename.endswith('.html'):
        return False
    return True
```

### è·¯å¾„å®‰å…¨
```python
# é˜²æ­¢ç›®å½•éå†
def safe_join(base_path, *paths):
    path = os.path.join(base_path, *paths)
    real_path = os.path.realpath(path)
    real_base = os.path.realpath(base_path)
    if not real_path.startswith(real_base):
        raise ValueError("è·¯å¾„ä¸å®‰å…¨")
    return path
```

### è®¿é—®æ§åˆ¶
- **ç”¨æˆ·éš”ç¦»**: ä¸¥æ ¼çš„ç›®å½•æƒé™æ§åˆ¶
- **é“¾æ¥é™åˆ¶**: åªèƒ½é“¾æ¥è‡ªå·±çš„æ–‡ç« 
- **æ–‡ä»¶ç±»å‹é™åˆ¶**: åªå…è®¸ç‰¹å®šæ ¼å¼ä¸Šä¼ 
- **å¤§å°é™åˆ¶**: 5MBå›¾ç‰‡å¤§å°é™åˆ¶

## ğŸš€ éƒ¨ç½²å’Œç»´æŠ¤

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
# ä½¿ç”¨Gunicorn
pip install gunicorn
gunicorn -w 4 -b 0.0.0.0:5000 server:app

# Nginxé…ç½®
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    location /workplace/share/ {
        alias /path/to/workplace/share/;
        expires 1d;
    }
}
```

### å¤‡ä»½ç­–ç•¥
```bash
# æ¯æ—¥å¤‡ä»½è„šæœ¬
#!/bin/bash
DATE=$(date +%Y%m%d)
tar -czf backup_${DATE}.tar.gz workplace/ login/users.csv
# ä¿ç•™æœ€è¿‘7å¤©çš„å¤‡ä»½
find . -name "backup_*.tar.gz" -mtime +7 -delete
```

### ç›‘æ§æŒ‡æ ‡
- **å“åº”æ—¶é—´**: å¹³å‡å“åº”æ—¶é—´ < 200ms
- **é”™è¯¯ç‡**: 5xxé”™è¯¯ç‡ < 1%
- **å¯ç”¨æ€§**: ç³»ç»Ÿæ­£å¸¸è¿è¡Œæ—¶é—´ > 99.5%
- **ç£ç›˜ä½¿ç”¨**: ç›‘æ§workplaceç›®å½•å¤§å°

## ğŸ“ˆ ç‰ˆæœ¬æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-XX)
- âœ… åŸºç¡€ç¼–è¾‘å™¨åŠŸèƒ½
- âœ… ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- âœ… ç´ æåº“åŸºç¡€åŠŸèƒ½

### v1.1.0 (2024-03-XX)
- âœ… æ¨¡æ¿ç³»ç»Ÿ
- âœ… æ’¤é”€é‡åšåŠŸèƒ½
- âœ… å›¾ç‰‡ç®¡ç†ä¼˜åŒ–

### v1.2.0 (2024-05-XX)
- âœ… æ— ç™»å½•è®¿é—®æ¨¡å¼
- âœ… è®¿å®¢ç»Ÿè®¡åŠŸèƒ½
- âœ… è·¯ç”±å®‰å…¨ä¿®å¤

### v1.3.0 (2024-06-XX)
- âœ… æ–‡ç« é“¾æ¥åŠŸèƒ½
- âœ… æˆ‘çš„å›¾ç‰‡ç®¡ç†
- âœ… ç•Œé¢ä¼˜åŒ–å®Œå–„
- âœ… å¯¹é½åŠŸèƒ½ä¿®å¤

## ğŸ”® æœªæ¥è®¡åˆ’

### çŸ­æœŸè®¡åˆ’ (ä¸‹ä¸ªç‰ˆæœ¬)
- [ ] å¯Œæ–‡æœ¬ç¼–è¾‘å™¨å¢å¼º
- [ ] æ›´å¤šæ¨¡æ¿ä¸»é¢˜
- [ ] æ‰¹é‡å›¾ç‰‡å¤„ç†
- [ ] æ–‡ç« åˆ†ç±»åŠŸèƒ½

### ä¸­æœŸè®¡åˆ’ (åç»­ç‰ˆæœ¬)
- [ ] å¤šç”¨æˆ·åä½œåŠŸèƒ½
- [ ] è¯„è®ºç³»ç»Ÿ
- [ ] SEOä¼˜åŒ–
- [ ] ç§»åŠ¨ç«¯åº”ç”¨

### é•¿æœŸè§„åˆ’
- [ ] æ’ä»¶ç³»ç»Ÿ
- [ ] ä¸»é¢˜å•†åº—
- [ ] äº‘å­˜å‚¨é›†æˆ
- [ ] APIå¼€æ”¾å¹³å°

---

âœ… **ç³»ç»Ÿå·²å®Œå…¨ç¨³å®šè¿è¡Œï¼Œæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å’Œä¿®å¤å‡å·²å®Œæˆï¼**

æœ¬æ–‡æ¡£è®°å½•äº†å®Œæ•´çš„å¼€å‘å’Œä¿®å¤å†ç¨‹ï¼Œä¸ºç³»ç»Ÿç»´æŠ¤å’Œæœªæ¥å‡çº§æä¾›è¯¦ç»†çš„æŠ€æœ¯å‚è€ƒã€‚ 