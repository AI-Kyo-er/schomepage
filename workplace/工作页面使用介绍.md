# HTML图文文章编辑器工作站 - 工作页面使用介绍

## 📋 项目简介

这是一个功能完整的图形化HTML文章编辑器工作站，类似于微软Office Word的半图形化页面，用户可以轻松创建、编辑和管理HTML格式的图文文章。

## ✨ 主要功能特性

### 🔐 用户管理系统
- **安全登录**: 支持用户名密码登录，密码加密存储
- **用户注册**: 完整的邮箱验证注册流程
- **会话管理**: 24小时会话超时，活动检测
- **文章配额**: 每个用户可设置文章数量限制

### 📝 图形化编辑器
- **所见即所得**: 类似Word的直观编辑界面
- **丰富元素**: 支持文本框、图片、图案等多种元素
- **格式工具**: 字体、字号、加粗、斜体、下划线、对齐等
- **属性面板**: 实时调整元素的颜色、大小、样式等属性

### 🎨 素材库系统
- **背景图片**: 提供多种精美背景图片
- **图标库**: 丰富的SVG图标资源
- **我的图片**: 个人图片管理，支持PNG/JPG上传
- **共享资源**: 从Fedora系统共享文件中提取的高质量素材

### 📋 模板系统
- **文章模板**: 标准的学术/技术文章格式
- **博客模板**: 个人博客风格的设计
- **新闻模板**: 新闻报道格式布局

### 🔗 文章链接功能
- **文本链接**: 创建指向其他文章的文字链接
- **图片链接**: 将图片转换为可点击的链接
- **页面导航**: 支持文章间的跳转和返回
- **安全限制**: 只能链接到自己工作站内的文章

### 🌐 无登录访问模式
- **别名访问**: 通过友好的URL别名访问文章
- **访客统计**: 记录不同类型访客的访问次数
- **匿名浏览**: 支持无需登录的文章浏览

### 💾 文件管理
- **文章列表**: 查看所有个人文章
- **文件操作**: 创建、重命名、删除文章
- **自动保存**: 防止数据丢失
- **导出功能**: 生成独立的HTML文件

### 🔄 编辑功能
- **撤销重做**: 支持多级撤销和重做操作
- **实时预览**: 随时预览文章效果
- **元素控制**: 拖拽、排序、复制元素

## 🚀 快速开始

### 1. 环境要求
- Python 3.8+
- 现代浏览器（Chrome、Firefox、Safari、Edge）

### 2. 安装依赖
```bash
cd login
pip install -r requirements.txt
```

### 3. 启动服务器
```bash
python start.py
```
或者
```bash
python server.py
```

### 4. 访问系统
在浏览器中打开: `http://localhost:5000`

### 5. 默认账户
- 用户名: `admin`
- 密码: `123456`
- 文章限制: 1篇

## 📝 完整功能演示

### 第一步：系统登录
1. **启动服务器**
   ```bash
   cd login
   python start.py
   ```
   
2. **访问系统**
   - 在浏览器中打开: `http://localhost:5000`
   - 看到优雅的登录界面

3. **使用默认账户登录**
   - 用户名: `admin`
   - 密码: `123456`

4. **查看主界面**
   ```
   ┌─────────────────────────────────────────────────────────────┐
   │ HTML图文文章编辑器工作站        欢迎，admin (0/1) 退出登录  │
   ├─────────────────────────────────────────────────────────────┤
   │💾👁️📤 | ↶↷ | [字体][字号] | B I U | ◧◨◩ | 📝🖼️🔷    │
   ├──────────┬────────────────────────────────────────┬─────────┤
   │📄文章管理│                                        │ 属性面板│
   │➕新建文章│           🎨 编辑画布区域               │⚙️元素设置│
   │📄文章1  │                                        │🎨样式调整│
   │🎨素材库 │        [选中元素时显示控制按钮]          │📏尺寸设置│
   │📋模板库 │                                        │🎯位置调整│
   │📊访客统计│                                        │          │
   └──────────┴────────────────────────────────────────┴─────────┘
   ```

### 第二步：文章创建与编辑

#### 1. 创建新文章
- 点击"➕ 新建文章"按钮
- 输入文章名称：`我的第一篇文章`
- 系统自动生成默认内容

#### 2. 插入和编辑文本
- 点击"📝 插入文本框"
- 输入文章标题：`欢迎来到我的博客`
- 选中文本使用格式工具：
  - **粗体(B)**、*斜体(I)*、<u>下划线(U)</u>
  - 字体选择："微软雅黑"
  - 字号设置："24px"
  - 颜色调整：在右侧属性面板选择

#### 3. 插入和管理图片
- **上传本地图片**：点击"🖼️ 插入图片" → 选择文件
- **使用背景素材**：选择素材库中的精美背景
- **使用个人图片**：点击"我的图片" → 上传PNG/JPG图片
- **调整图片属性**：
  - 宽度：通过右侧属性面板调整百分比
  - 对齐：左对齐、居中、右对齐
  - 样式：通过元素控制调整

### 第三步：使用素材库

#### 1. 背景图片库
- 点击左侧"🎨 素材库" → "背景图片"
- 浏览可用的背景图片：
  - `whu.webp` - 武汉大学校园
  - `petals_light.webp` - 花瓣背景
  - `flight_light.webp` - 飞行主题
  - `futurecity_light.webp` - 未来城市
- 点击图片直接插入到文章

#### 2. 图标库
- 点击"图标库"
- 选择合适的SVG图标
- 插入到文章中作为装饰元素

#### 3. 我的图片管理
- 点击"我的图片"打开个人图片库
- 点击"📤 导入图片"上传本地图片：
  - 支持格式：PNG、JPG、JPEG
  - 文件大小：最大5MB
  - 支持多文件同时上传
- 图片管理功能：
  - 悬停显示删除按钮
  - 120x120px统一预览
  - 点击直接插入文章

### 第四步：使用模板系统

#### 1. 文章模板
```
📄 文章标题 (居中，大字体)
👤 作者信息 | 📅 发布时间

📝 引言部分
- 简要介绍文章内容

📖 正文内容
- 详细论述和说明

💡 结论
- 总结要点
```

#### 2. 博客模板
- 渐变头部设计
- 个人博客风格布局
- 今日感想板块
- 正文内容区域

#### 3. 新闻模板
- 新闻标题和基本信息
- 新闻摘要（黄色高亮）
- 详细报道（5W1H结构）
- 专家观点（绿色引用框）

### 第五步：使用图案和高级编辑

#### 1. 插入图案
- 点击"🔷 插入图案"
- 选择预设图案：
  - 🟦 矩形 (蓝色背景块)
  - ⭕ 圆形 (红色圆点)
  - ➖ 分割线 (章节分隔)
  - 💬 引用框 (重要内容标注)

#### 2. 元素控制
- 点击任意元素查看控制按钮：
  - ❌ 删除元素
  - ⬆️ 上移元素
  - ⬇️ 下移元素
- 拖拽调整元素位置
- 使用撤销重做功能

### 第六步：文章链接功能

#### 1. 创建文本链接
1. 点击 **🔗 插入链接** 按钮
2. 在对话框中配置：
   - **链接文本**：输入"校园导览"
   - **选择目标文章**：从列表选择目标文章
   - **链接类型**：选择"文本链接"
3. 点击"插入链接"完成

**效果**：
```html
🔗 校园导览
链接到：校园导览.html
```

#### 2. 创建图片链接
1. 先选中一个图片元素
2. 点击 **🔗 插入链接** 按钮
3. 系统自动识别为图片链接
4. 选择目标文章并确认

**效果**：
- 图片变为可点击状态
- 悬停时有缩放和阴影效果
- 下方显示链接指示器

#### 3. 链接访问体验
- **绿色主题**：区别于普通访问
- **返回按钮**：便捷的导航功能
- **来源显示**：明确显示来源文章

### 第七步：无登录访问功能

#### 1. 设置别名访问
- 编辑 `redirect.csv` 文件配置别名映射
- 访问格式：`http://localhost:5000/别名`
- 带访客类型：`http://localhost:5000/别名&user=类型`

#### 2. 访客类型示例
```
学生访客：http://localhost:5000/WHU_PAGE&user=student
教师访客：http://localhost:5000/WHU_PAGE&user=teacher
游客访客：http://localhost:5000/WHU_PAGE&user=tourist
匿名访客：http://localhost:5000/WHU_PAGE
```

#### 3. 访客统计功能
- 在编辑器左侧"📊 访客统计"查看数据
- 显示不同类型访客的访问次数
- 提供总访问量统计和百分比分析

### 第八步：保存和导出

#### 1. 保存文章
- 点击"💾 保存"按钮
- 系统自动保存到用户目录
- 支持自动保存防止数据丢失

#### 2. 预览文章
- 点击"👁️ 预览"按钮
- 新窗口显示最终效果
- 查看去除编辑元素后的纯净页面

#### 3. 导出文章
- 点击"📤 导出"按钮
- 下载完整的HTML文件
- 可在任何浏览器中独立打开

## 🎯 实际应用场景

### 教育机构应用
**武汉大学宣传页面示例**：

#### 主页结构 (article.html)
- 平台介绍和欢迎信息
- 访问方式说明
- **图片链接**：樱花图片 → 校园导览
- **热点新闻**：
  - 学生服务中心 → 学生服务.html
  - 学院招生政策 → 学院简介.html
  - 春季校园开放日 → 校园导览.html

#### 子页面内容
1. **校园导览.html**：
   - 🌸 樱花大道介绍
   - 📚 图书馆信息
   - 🏛️ 历史建筑群
   - 📍 参观路线推荐

2. **学生服务.html**：
   - 🎓 学籍管理服务
   - 🏠 住宿服务指南
   - ⚡ 在线服务平台
   - 📞 联系方式

3. **学院简介.html**：
   - 💼 商学院介绍
   - ⚖️ 法学院特色
   - 🔬 理工科学院
   - 🎭 人文社科学院

### 访客浏览路径
```
WHU_PAGE (主页)
    ↓ [点击樱花图片]
校园导览 ← [返回上级]
    ↓ [从主页热点新闻点击]
学生服务 ← [返回上级]
    ↓ [访问学院信息]
学院简介 ← [返回上级]
```

## 📊 用户管理和权限

### 文章配额管理
编辑 `login/users.csv` 文件调整用户限制：
```csv
username,password,maxarticle
admin,18b16e270de878f3,5
student1,encrypted_password,3
teacher1,encrypted_password,10
```

### 用户目录结构
```
workplace/
├── admin/                    # admin用户
│   ├── article/             # 文章存储
│   │   ├── article.html
│   │   ├── 校园导览.html
│   │   └── 学生服务.html
│   └── pics/                # 个人图片
├── student1/                 # 学生用户
└── share/                    # 共享素材
    ├── backgrounds/          # 背景图片
    ├── icons/               # 图标库
    └── fonts/               # 字体库
```

### 安全特性
- **用户隔离**：每个用户独立目录
- **链接限制**：只能链接自己的文章
- **访问控制**：无登录访问仅限只读
- **数据安全**：密码加密存储

## 🔧 高级功能和技巧

### 撤销重做系统
- 支持50步操作历史
- 自动保存编辑状态
- 内容变化检测机制
- 防止重复状态保存

### 响应式设计
- 适配不同屏幕尺寸
- 移动设备友好界面
- 自适应布局调整

### 性能优化
- 原生JavaScript，无框架依赖
- CSS3动画优化
- 图片懒加载机制
- 内存泄漏防护

## 🎨 界面定制建议

### 主页设计原则
1. **重要链接置顶**：将核心内容放在显眼位置
2. **视觉层次清晰**：使用不同字号和颜色区分重要性
3. **导航逻辑简单**：避免过深的链接层级
4. **美观实用并重**：既要视觉效果好，也要信息传达清晰

### 内容组织建议
1. **主题分类**：按业务或内容主题组织文章
2. **链接指引**：在重要位置提供导航说明
3. **定期更新**：保持内容的时效性和准确性
4. **用户体验**：考虑访客的浏览习惯和需求

## ❓ 常见问题解答

### Q: 如何修改用户文章数量限制？
A: 编辑 `login/users.csv` 文件中的 `maxarticle` 字段。

### Q: 图片无法显示怎么办？
A: 检查图片路径和文件权限，确保图片存在于正确目录。

### Q: 如何添加更多背景素材？
A: 将图片文件放入 `workplace/share/backgrounds/` 目录。

### Q: 链接功能为什么只能链接自己的文章？
A: 这是安全设计，防止用户访问其他用户的私有内容。

### Q: 访客统计数据存储在哪里？
A: 存储在各文章目录下的 `accrecord.csv` 文件中。

### Q: 如何重置密码？
A: 目前需要手动修改 `users.csv` 文件中的加密密码。

### Q: 系统支持多少用户同时使用？
A: 基于Python Flask，支持中小规模并发访问。

## 📞 技术支持

### 系统要求
- **服务器**：Python 3.8+，Flask框架
- **浏览器**：Chrome 70+, Firefox 60+, Safari 12+, Edge 18+
- **存储**：每用户约10-50MB（取决于图片数量）

### 部署建议
- **开发环境**：使用Python内置服务器
- **生产环境**：建议使用Gunicorn + Nginx
- **数据备份**：定期备份workplace目录
- **监控日志**：关注服务器错误日志

---

✨ **HTML图文文章编辑器工作站** - 让HTML文章创作变得简单高效！

无论您是教育工作者、企业宣传人员还是个人博客作者，这个工作站都能帮您轻松创建美观专业的图文内容，并通过强大的链接和访问功能为读者提供优质的浏览体验。 